<!DOCTYPE HTML>


<!--
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Endangered Animals</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<style>
		.slice {
		    cursor: pointer;
		}

		.slice .main-arc {
		    stroke: #fff;
		    stroke-width: 1px;
		}

		.slice .hidden-arc {
		    fill: none;
		}

		.slice text {
		    pointer-events: none;
		    dominant-baseline: middle;
		    text-anchor: middle;
		}
		.my_text
		    {
			font-size: 11px;
			font-weight: bold;
		    }			
	    </style>
	</head>
	<body class="landing">

		<!-- Header -->
			<header id="header" class="alt">
				<h1><strong><a href="index.html">Spatial</a></strong> by Templated</h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="generic.html">Data Quality</a></li>
						<li><a href="elements.html">User Feedback</a></li>
					</ul>
				</nav>
			</header>

			<a href="#menu" class="navPanelToggle"><span class="fa fa-bars"></span></a>

		<!-- Banner -->
			<section id="banner">
				<h2>Endenred Species</h2>
				<p>Our question: <br /> Description of our question.</p>
			</section>

			<!-- One -->
				<section id="one" class="wrapper style1">
					<div class="container 75%">
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<header class="major">
									<h2>Overview</h2>
									<p > Background Information and Research Questions </p>
								</header>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>On March 19, 2018, the world's last known male northern white rhinoceros died in Kenya. This makes the species functionally extinct. In fact, the Global extinction crisis far more serious than previously thought - It is estimated that the current extinction rates are 1,000 times higher than natural background rates of extinction. <a href="#footer">[1] </a> </br></p>

								<p>In our project, we will study the endangered animal species. We are interested in looing at which groups of animals have higher risks of endangerment and the population trend.     </p>
							</div>
						</div>
					</div>
				</section>

			<!-- Two -->
				<section id="two" class="wrapper style2 Special">
					<div class="container 75%">
						<header class="major">
							<h2>Dataset</h2>
							<p> The IUCN Red List of Threatened Species </p>
						</header>
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<p> The dataset is retrieved from the <a href= 'http://www.iucnredlist.org/search/saved?id=90090'> International Union for Conservation of Nature </a>. The IUCN Red List is widely recognized as the world's most comprehensive inventory of the global conservation status of biological speicis. In our project, we will study three taxonomic groups: birds, mammals, and amphibians. We focus on species categorized as the 5 Red List Status assessed from 2000 to 2017. <a href="#footer">[2]</a>
								</p>
							</div>
							<div class="6u$ 12u$(medium)">
									<ul>
								  		<li><b> Extinct (EX):  </b>  No known individuals remaining </li>
								  		<li><b> Extinct in the wild (EW):  </b>  Known only to survive in captivity, or as a naturalized population outside its historic range </li>
								  		<li><b>Critically Endangered (CR) </b>  Extremely high risk of extinction in the wild</li>
								  		<li><b> Endangered (EN):  </b>  High risk of extinction in the wild </li>
								  		<li><b> Vulnerable (VU):  </b>  High risk of endangerment in the wild </li>
									</ul>
							</div>
						</div>
					</div>
					<div style="display: flex; justify-content: center;">
						
						<div class="image">
							<p align = 'center'> Figure 1: Examples from dataset</p>
							<img src="images/dataset.png" alt="" />
						</div>
					</div>
				</section>					

			<!-- Three -->
				<section id="three" class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>Visualization 1</h2>
							<p> Zoomable Sunburst </p>
						</header>
						<div class="row 200%">
							<div class="6u 6u(medium)">						
								<p> The sunburst shows the taxonomic rank of the aminals: Kingdom, Phylumn, Class, Order, Family and Genus. You can click on any arc to zoom in, click on the center circle to zoom out, or hover over an arc to view the category name and count. </p>	
								<div class = "my_text" id = 'svgHere'></div>
							</div>					
							<div class="6u$ 18u$(medium)">								
								<h3> Amphibian </h3>
								<p> 
								It seems that amphibians are in higher risk of endangerment, possibly because of their sensitbility to environmental changes. Most of the vanishing amphibians are of the Anura order, which includes frogs and toads.  
								</p>		

								<h3> Aves </h3>
								<p> 
								A large portion of birds in risk of extinctions are of order Passeriformes, which is not surprised because naturally Passeriformes includes more than half of all bird species. Among other Orders, the true Parrots - species of colorful flighted birds in Psittacidae Family of Psittaciformes Order - are fast disappearing. </p>	
								<h3> Mammals </h3>
								<p>
								Strikingly, a large variety of our closest relatives — the primates — are endangered, including monkeys [e.g.  Macaca (i.e. Macaque), Ateles (i.e. Spider monkey)], lemurs [e,g. Sportive lemur (i.e. lepilemuridae), Brown lemurs (i.e. eulemur)], and apes [e.g. hylobatidae (i.e. Gibbon)]. In addition to primates, rodent - including several species of Murids, Cricetidae and squirrels (sciuridae) - are severely threatened.  
								</p>	

							</div>
						</div>
					</div>				
				</section>
		
			<!-- Four -->
				<section id="four" class="wrapper style2 special">
					<div class="container">
						<header class="major special">
							<h2>Visulization 2</h2>
							<p> Trend </p>
						</header>
				</section>

			<!-- Five -->					
				<section id="five" class="wrapper style1">
					<div class="container">
						<header class="major special">
							<h2>Mauris vulputate dolor</h2>
							<p>Feugiat sed lorem ipsum magna</p>
						</header>
						<div class="feature-grid">
							<div class="feature">
								<div class="image rounded"><img src="images/pic04.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Lorem ipsum</h4>
										<p>Lorem ipsum dolor sit</p>
									</header>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore esse tenetur accusantium porro omnis, unde mollitia totam sit nesciunt consectetur.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic05.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Recusandae nemo</h4>
										<p>Ratione maiores a, commodi</p>
									</header>
									<p>Animi mollitia optio culpa expedita. Dolorem alias minima culpa repellat. Dolores, fuga maiores ut obcaecati blanditiis, at aperiam doloremque.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic06.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Laudantium fugit</h4>
										<p>Possimus ex reprehenderit eaque</p>
									</header>
									<p>Maiores iusto inventore fugit architecto est iste expedita commodi sed, quasi feugiat nam neque mollitia vitae omnis, ea natus facere.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic07.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Porro aliquam</h4>
										<p>Quaerat, excepturi eveniet laboriosam</p>
									</header>
									<p>Vitae earum unde, autem labore voluptas ex, iste dolorum inventore natus consequatur iure similique obcaecati aut corporis hic in! Porro sed.</p>
								</div>
							</div>
						</div>
					</div>
				</section>


			<!-- Five -->
				<section id="six" class="wrapper style3 special">
					<div class="container">
						<header class="major">
							<h2>Aenean elementum ligula</h2>
							<p>Feugiat sed lorem ipsum magna</p>
						</header>
						<ul class="actions">
							<li><a href="#" class="button special big">Back to Top</a></li>
						</ul>
					</div>
				</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="#" class="icon fa-facebook"></a></li>
						<li><a href="#" class="icon fa-twitter"></a></li>
						<li><a href="#" class="icon fa-instagram"></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Untitled</li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
						<li>Images: <a href="http://unsplash.com">Unsplash</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="//d3js.org/d3.v4.min.js"></script>
			<script src="colorbrewer.js"></script>
			    <script>
				const width = 600,
				    height = 600,
				    maxRadius = (Math.min(width, height) / 2) - 10;
				const formatNumber = d3.format(',d');
				const x = d3.scaleLinear()
				    .range([0, 2 * Math.PI])
				    .clamp(true);
				const y = d3.scaleSqrt()
				    .range([maxRadius*.1, maxRadius]);
				const color = d3.scaleOrdinal(colorbrewer.Set3[12]);
				const partition = d3.partition();
				const arc = d3.arc()
				    .startAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x0))))
				    .endAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x1))))
				    .innerRadius(d => Math.max(0, y(d.y0)))
				    .outerRadius(d => Math.max(0, y(d.y1)));
				const middleArcLine = d => {
				    const halfPi = Math.PI/2;
				    const angles = [x(d.x0) - halfPi, x(d.x1) - halfPi];
				    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
				    const middleAngle = (angles[1] + angles[0]) / 2;
				    const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw
				    if (invertDirection) { angles.reverse(); }
				    const path = d3.path();
				    path.arc(0, 0, r, angles[0], angles[1], invertDirection);
				    return path.toString();
				};
				const textFits = d => {
				    const CHAR_SPACE = 6;
				    const deltaAngle = x(d.x1) - x(d.x0);
				    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
				    const perimeter = r * deltaAngle;
				    return d.data.name.length * CHAR_SPACE < perimeter;
				};
				const svg = d3.select("#svgHere").append('svg')
				    .style('width', width)
				    .style('height', height)
				    .attr('viewBox', `${-width / 2} ${-height / 2} ${width} ${height}`)
				    .on('click', () => focusOn()); // Reset zoom on canvas click
				d3.json('flare.json', (error, root) => {
				    if (error) throw error;
				    root = d3.hierarchy(root);
				    root.sum(d => d.size);
				    const slice = svg.selectAll('g.slice')
					.data(partition(root).descendants());
				    slice.exit().remove();
				    const newSlice = slice.enter()
					.append('g').attr('class', 'slice')
					.on('click', d => {
					    d3.event.stopPropagation();
					    focusOn(d);
					});
				    newSlice.append('title')
					.text(d => d.data.name + '\n' + formatNumber(d.value));
				    newSlice.append('path')
					.attr('class', 'main-arc')
					.style('fill', d => color((d.children ? d : d.parent).data.name))
					.attr('d', arc);
				    newSlice.append('path')
					.attr('class', 'hidden-arc')
					.attr('id', (_, i) => `hiddenArc${i}`)
					.attr('d', middleArcLine);
				    const text = newSlice.append('text')
					.attr('display', d => textFits(d) ? null : 'none');
				    text.append('textPath')
					.attr('startOffset','50%')
					.attr('xlink:href', (_, i) => `#hiddenArc${i}` )
					.text(d => d.data.name);
				});
				function focusOn(d = { x0: 0, x1: 1, y0: 0, y1: 1 }) {
				    // Reset to top-level if no data point specified
				    const transition = svg.transition()
					.duration(750)
					.tween('scale', () => {
					    const xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
						yd = d3.interpolate(y.domain(), [d.y0, 1]);
					    return t => { x.domain(xd(t)); y.domain(yd(t)); };
					});
				    transition.selectAll('path.main-arc')
					.attrTween('d', d => () => arc(d));
				    transition.selectAll('path.hidden-arc')
					.attrTween('d', d => () => middleArcLine(d));
				    transition.selectAll('text')
					.attrTween('display', d => () => textFits(d) ? null : 'none');
				    moveStackToFront(d);
				    //
				    function moveStackToFront(elD) {
					svg.selectAll('.slice').filter(d => d === elD)
					    .each(function(d) {
						this.parentNode.appendChild(this);
						if (d.parent) { moveStackToFront(d.parent); }
					    })
				    }
				}
			    </script>
	</body>
</html>
