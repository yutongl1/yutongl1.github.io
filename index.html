<!DOCTYPE HTML>


<!--
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Endangered Animals</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<style>
		.slice {
		    cursor: pointer;
		}

		.slice .main-arc {
		    stroke: #fff;
		    stroke-width: 1px;
		}

		.slice .hidden-arc {
		    fill: none;
		}

		.slice text {
		    pointer-events: none;
		    dominant-baseline: middle;
		    text-anchor: middle;
		}
	    </style>
	</head>
	<body class="landing">

		<!-- Header -->
			<header id="header" class="alt">
				<h1><strong><a href="index.html">Spatial</a></strong> by Templated</h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="generic.html">Data Quality</a></li>
						<li><a href="elements.html">User Feedback</a></li>
					</ul>
				</nav>
			</header>

			<a href="#menu" class="navPanelToggle"><span class="fa fa-bars"></span></a>

		<!-- Banner -->
			<section id="banner">
				<h2>Endenred Species</h2>
				<p>Our question: <br /> Description of our question.</p>
			</section>

			<!-- One -->
				<section id="one" class="wrapper style1">
					<div class="container 75%">
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<header class="major">
									<h2>Overview</h2>
									<p>I keep this line because I like the count</p>
								</header>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>The overview of our project</p>
								<p>Including background information</p>
							</div>
						</div>
					</div>
				</section>

			<!-- Two -->
				<section id="one" class="wrapper style2 special">
					<div class="container 75%">
						<div class="row 200%">
							<div class="6u 12u$(medium)">
								<header class="major">
									<h2>Dataset</h2>
									<p>I keep this line because I like the count</p>
								</header>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>Description of Dataset</p>
								<p>Overview of dataset</p>
							</div>
						</div>
					</div>
				</section>		

			<!-- Three -->
				<section id="two" class="wrapper style1">
					<div class="container">
						<header class="major">
							<h2>Visualization 1</h2>
							<p> Zoomable Sunburst </p>
						</header>
						<div class="row 200%">
							<div class="6u 6u(medium)" id = 'svgHere'>							
							</div>					
							<div class="6u$ 18u$(medium)">
								<p>Description of Graph </p>
								<p>Overview of Graph </p>
							</div>
						</div>
					</div>				
				</section>
		
			<!-- Four -->
				<section id="three" class="wrapper style2 special">
					<div class="container">
						<header class="major special">
							<h2>Visulization 2</h2>
							<p> Trend </p>
						</header>
					<!-- Chart 1 for VU, Ex, etc. -->	
					<div class='tableauPlaceholder' id='viz1522713417540' style='position: relative'>
						<noscript><a href='#'><img alt='Sheet 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;li&#47;lineChart_0&#47;Sheet2&#47;1_rss.png' style='border: none' /></a></noscript>
						<object class='tableauViz'  style='display:none;'>
							<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
							<param name='embed_code_version' value='3' /> 
							<param name='site_root' value='' />
							<param name='name' value='lineChart_0&#47;Sheet2' />
							<param name='tabs' value='no' />
							<param name='toolbar' value='yes' />
							<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;li&#47;lineChart_0&#47;Sheet2&#47;1.png' /> 
							<param name='animate_transition' value='yes' />
							<param name='display_static_image' value='yes' />
							<param name='display_spinner' value='yes' />
							<param name='display_overlay' value='yes' />
							<param name='display_count' value='yes' />
							<param name='filter' value='publish=yes' />
						</object>
					</div>                
					<script type='text/javascript'>
						var divElement = document.getElementById('viz1522713417540');                    
						var vizElement = divElement.getElementsByTagName('object')[0];                 
						vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.45)+'px';    
						var scriptElement = document.createElement('script');                  
						scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';        
						vizElement.parentNode.insertBefore(scriptElement, vizElement);               
					</script>
						
					<!-- Chart 2 for stable, decreasing, etc. -->	
					<div class='tableauPlaceholder' id='viz1522726468100' style='position: relative'>
						<noscript>
							<a href='#'>
							<img alt='Sheet 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;ch&#47;chart-mid-ids&#47;Sheet2&#47;1_rss.png' style='border: none' />
							</a>
						</noscript>
						<object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
							<param name='embed_code_version' value='3' /> 
							<param name='site_root' value='' />
							<param name='name' value='chart-mid-ids&#47;Sheet2' />
							<param name='tabs' value='no' />
							<param name='toolbar' value='yes' />
							<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;ch&#47;chart-mid-ids&#47;Sheet2&#47;1.png' /> 
							<param name='animate_transition' value='yes' />
							<param name='display_static_image' value='yes' />
							<param name='display_spinner' value='yes' />
							<param name='display_overlay' value='yes' />
							<param name='display_count' value='yes' />
							<param name='filter' value='publish=yes' />
						</object>
						</div>                
						<script type='text/javascript'>                    
							var divElement = document.getElementById('viz1522726468100');                    
							var vizElement = divElement.getElementsByTagName('object')[0];                    
							vizElement.style.width='100%';
							vizElement.style.height=(divElement.offsetWidth*0.45)+'px';                    
							var scriptElement = document.createElement('script');                    
							scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    
							vizElement.parentNode.insertBefore(scriptElement, vizElement);               
						</script>	
					</div>
					
						<div class="feature-grid">
							<div class="feature">
								<div class="image rounded"><img src="images/pic04.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Lorem ipsum</h4>
										<p>Lorem ipsum dolor sit</p>
									</header>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore esse tenetur accusantium porro omnis, unde mollitia totam sit nesciunt consectetur.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic05.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Recusandae nemo</h4>
										<p>Ratione maiores a, commodi</p>
									</header>
									<p>Animi mollitia optio culpa expedita. Dolorem alias minima culpa repellat. Dolores, fuga maiores ut obcaecati blanditiis, at aperiam doloremque.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic06.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Laudantium fugit</h4>
										<p>Possimus ex reprehenderit eaque</p>
									</header>
									<p>Maiores iusto inventore fugit architecto est iste expedita commodi sed, quasi feugiat nam neque mollitia vitae omnis, ea natus facere.</p>
								</div>
							</div>
							<div class="feature">
								<div class="image rounded"><img src="images/pic07.jpg" alt="" /></div>
								<div class="content">
									<header>
										<h4>Porro aliquam</h4>
										<p>Quaerat, excepturi eveniet laboriosam</p>
									</header>
									<p>Vitae earum unde, autem labore voluptas ex, iste dolorum inventore natus consequatur iure similique obcaecati aut corporis hic in! Porro sed.</p>
								</div>
							</div>
						</div>
					</div>
				</section>

			<!-- Five -->
				<section id="four" class="wrapper style3 special">
					<div class="container">
						<header class="major">
							<h2>Aenean elementum ligula</h2>
							<p>Feugiat sed lorem ipsum magna</p>
						</header>
						<ul class="actions">
							<li><a href="#" class="button special big">Back to Top</a></li>
						</ul>
					</div>
				</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="#" class="icon fa-facebook"></a></li>
						<li><a href="#" class="icon fa-twitter"></a></li>
						<li><a href="#" class="icon fa-instagram"></a></li>
					</ul>
					<ul class="copyright">
						<li>&copy; Untitled</li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
						<li>Images: <a href="http://unsplash.com">Unsplash</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="//d3js.org/d3.v4.min.js"></script>
			<script src="colorbrewer.js"></script>
			    <script>
				const width = 800,
				    height = 600,
				    maxRadius = (Math.min(width, height) / 2) - 10;
				const formatNumber = d3.format(',d');
				const x = d3.scaleLinear()
				    .range([0, 2 * Math.PI])
				    .clamp(true);
				const y = d3.scaleSqrt()
				    .range([maxRadius*.1, maxRadius]);
				const color = d3.scaleOrdinal(colorbrewer.Set3[12]);
				const partition = d3.partition();
				const arc = d3.arc()
				    .startAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x0))))
				    .endAngle(d => Math.max(0, Math.min(2 * Math.PI, x(d.x1))))
				    .innerRadius(d => Math.max(0, y(d.y0)))
				    .outerRadius(d => Math.max(0, y(d.y1)));
				const middleArcLine = d => {
				    const halfPi = Math.PI/2;
				    const angles = [x(d.x0) - halfPi, x(d.x1) - halfPi];
				    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
				    const middleAngle = (angles[1] + angles[0]) / 2;
				    const invertDirection = middleAngle > 0 && middleAngle < Math.PI; // On lower quadrants write text ccw
				    if (invertDirection) { angles.reverse(); }
				    const path = d3.path();
				    path.arc(0, 0, r, angles[0], angles[1], invertDirection);
				    return path.toString();
				};
				const textFits = d => {
				    const CHAR_SPACE = 6;
				    const deltaAngle = x(d.x1) - x(d.x0);
				    const r = Math.max(0, (y(d.y0) + y(d.y1)) / 2);
				    const perimeter = r * deltaAngle;
				    return d.data.name.length * CHAR_SPACE < perimeter;
				};
				const svg = d3.select("#svgHere").append('svg')
				    .style('width', width)
				    .style('height', height)
				    .attr('viewBox', `${-width / 2} ${-height / 2} ${width} ${height}`)
				    .on('click', () => focusOn()); // Reset zoom on canvas click
				d3.json('flare.json', (error, root) => {
				    if (error) throw error;
				    root = d3.hierarchy(root);
				    root.sum(d => d.size);
				    const slice = svg.selectAll('g.slice')
					.data(partition(root).descendants());
				    slice.exit().remove();
				    const newSlice = slice.enter()
					.append('g').attr('class', 'slice')
					.on('click', d => {
					    d3.event.stopPropagation();
					    focusOn(d);
					});
				    newSlice.append('title')
					.text(d => d.data.name + '\n' + formatNumber(d.value));
				    newSlice.append('path')
					.attr('class', 'main-arc')
					.style('fill', d => color((d.children ? d : d.parent).data.name))
					.attr('d', arc);
				    newSlice.append('path')
					.attr('class', 'hidden-arc')
					.attr('id', (_, i) => `hiddenArc${i}`)
					.attr('d', middleArcLine);
				    const text = newSlice.append('text')
					.attr('display', d => textFits(d) ? null : 'none');
				    text.append('textPath')
					.attr('startOffset','50%')
					.attr('xlink:href', (_, i) => `#hiddenArc${i}` )
					.text(d => d.data.name);
				});
				function focusOn(d = { x0: 0, x1: 1, y0: 0, y1: 1 }) {
				    // Reset to top-level if no data point specified
				    const transition = svg.transition()
					.duration(750)
					.tween('scale', () => {
					    const xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
						yd = d3.interpolate(y.domain(), [d.y0, 1]);
					    return t => { x.domain(xd(t)); y.domain(yd(t)); };
					});
				    transition.selectAll('path.main-arc')
					.attrTween('d', d => () => arc(d));
				    transition.selectAll('path.hidden-arc')
					.attrTween('d', d => () => middleArcLine(d));
				    transition.selectAll('text')
					.attrTween('display', d => () => textFits(d) ? null : 'none');
				    moveStackToFront(d);
				    //
				    function moveStackToFront(elD) {
					svg.selectAll('.slice').filter(d => d === elD)
					    .each(function(d) {
						this.parentNode.appendChild(this);
						if (d.parent) { moveStackToFront(d.parent); }
					    })
				    }
				}
			    </script>
	</body>
</html>
